---
import FancyText from "../components/FancyText";
import Layout from "./Layout.astro";

const { title, Content, headings } = Astro.props;
const props = Astro.props;
console.log(props);
console.log(headings);
---

<Layout title={title}>
  <div class="flex">
    <nav id="projects-previews" class="flex flex-col flex-1 hidden"></nav>

    <section id="main-content" class="flex flex-1 mt-4">
      <div
        class="flex flex-col max-w-4xl shadow-xl shadow-base-300 p-6 pt-3 prose mx-10"
      >
        <h1 class="">
          <FancyText text={props.content.title} className="text-6xl" />
          <!-- <div class="text-6xl">{props.content.title}</div> -->
          <div class="flex w-full justify-between items-center mt-2">
            <p class="text-xl">{props.content.minutesRead}</p>
            <svg
              width="1em"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              class="cursor-pointer hover:scale-125 hover:invert transition-all duration-500"
            >
              <g>
                <path fill="none" d="M0 0h24v24H0z"></path>
                <path
                  d="M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"
                ></path>
              </g>
            </svg>
          </div>
        </h1>

        <div class="overflow-x-auto">
          <slot />
        </div>
      </div>
    </section>

    <nav
      id="markdown-headings"
      class="flex flex-col flex-1 p-10 items-end relative h-full hidden"
    >
      <div
        class="fixed right-0 mr-[5%] top-[1/5] flex flex-col p-6 h-full w-[300px] space-y-1 font-bold border-l border-l-base-300 max-h-[70vh]"
      >
        <input
          class="input input-sm input-bordered mb-1"
          placeholder="search..."
        />
        <div class="flex flex-col pt-2 overflow-y-auto">
          {
            headings.map((h) => {
              console.log(h);
              return (
                <a
                  class={`m-1 pl-${h.depth} hover:brightness-150`}
                  href={`#${h.slug}`}
                >
                  {h.text}
                </a>
              );
            })
          }
        </div>
      </div>
    </nav>
  </div>
</Layout>
